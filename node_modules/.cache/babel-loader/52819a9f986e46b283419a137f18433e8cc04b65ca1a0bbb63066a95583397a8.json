{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GODINGEN MARIE\\\\Documents\\\\student-app-react\\\\src\\\\pages\\\\profil-edition-page.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ApiAccess from '../services/api-access';\nimport Grid from '@mui/material/Grid/Grid';\nimport Typography from '@mui/material/Typography/Typography';\nimport Paper from '@mui/material/Paper/Paper';\nimport TextField from '@mui/material/TextField/TextField';\nimport Button from '@mui/material/Button/Button';\nimport { IconButton, Snackbar } from '@mui/material';\nimport Loader from '../component/loader';\nimport CloseIcon from '@mui/icons-material/Close';\nimport cookieServiceInstance from '../services/cookies';\nimport library from '../helpers/library';\nimport { useHistory } from 'react-router-dom';\nimport routes from '../helpers/routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfilEdition = () => {\n  _s();\n  const [isAccountMaj, setSnackMaj] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const connectedValue = data => {\n    const account = JSON.parse(cookieServiceInstance.getCookie(library.account));\n    switch (data) {\n      case library.username:\n        return account.username;\n      case library.email:\n        return account.email;\n      default:\n        return '';\n    }\n  };\n  const [profilEditionForm, setProfilEditionForm] = useState({\n    username: connectedValue(library.account),\n    password: '',\n    email: connectedValue(library.email)\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProfilEditionForm({\n      ...profilEditionForm,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      let account = JSON.parse(cookieServiceInstance.getCookie(library.account));\n      account.edition(profilEditionForm.username, profilEditionForm.password, profilEditionForm.email);\n      account = await ApiAccess.editAccount(account);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      history.push(routes.home);\n    }\n  };\n  const closeSnack = () => {\n    setSnackMaj(false);\n  };\n  const action = /*#__PURE__*/_jsxDEV(IconButton, {\n    size: \"small\",\n    \"aria-label\": \"close\",\n    color: \"inherit\",\n    onClick: closeSnack,\n    children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n      fontSize: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    justifyContent: \"center\",\n    alignItems: \"top\",\n    marginTop: 3,\n    style: {\n      minHeight: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 10,\n      sm: 6,\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        style: {\n          padding: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h2\",\n          gutterBottom: true,\n          children: \"Mise a jour du profil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n          anchorOrigin: {\n            vertical: 'bottom',\n            horizontal: 'center'\n          },\n          open: isAccountMaj,\n          autoHideDuration: 3000,\n          onClose: closeSnack,\n          message: \"Compte mis a jour\",\n          action: action\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Username\",\n            name: \"username\",\n            value: profilEditionForm.username,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"standard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Password\",\n            name: \"password\",\n            type: \"password\",\n            value: profilEditionForm.password,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"standard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            name: \"email\",\n            type: \"text\",\n            value: profilEditionForm.email,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"standard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            fullWidth: true,\n            children: \"Editer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfilEdition, \"f51gkXZthqeItuWjT5V80EG6mkQ=\", false, function () {\n  return [useHistory];\n});\n_c = ProfilEdition;\nexport default ProfilEdition;\nvar _c;\n$RefreshReg$(_c, \"ProfilEdition\");","map":{"version":3,"names":["React","useState","ApiAccess","Grid","Typography","Paper","TextField","Button","IconButton","Snackbar","Loader","CloseIcon","cookieServiceInstance","library","useHistory","routes","jsxDEV","_jsxDEV","ProfilEdition","_s","isAccountMaj","setSnackMaj","loading","setLoading","history","connectedValue","data","account","JSON","parse","getCookie","username","email","profilEditionForm","setProfilEditionForm","password","handleChange","e","name","value","target","handleSubmit","preventDefault","edition","editAccount","error","console","push","home","closeSnack","action","size","color","onClick","children","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","container","justifyContent","alignItems","marginTop","style","minHeight","item","xs","sm","md","elevation","padding","variant","component","gutterBottom","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","message","onSubmit","label","onChange","fullWidth","margin","type","_c","$RefreshReg$"],"sources":["C:/Users/GODINGEN MARIE/Documents/student-app-react/src/pages/profil-edition-page.tsx"],"sourcesContent":["import React, { ChangeEvent, FunctionComponent, useState } from 'react';\r\nimport ApiAccess from '../services/api-access';\r\nimport Account from '../models/Account';\r\nimport Grid from '@mui/material/Grid/Grid';\r\nimport Typography from '@mui/material/Typography/Typography';\r\nimport Paper from '@mui/material/Paper/Paper';\r\nimport TextField from '@mui/material/TextField/TextField';\r\nimport Button from '@mui/material/Button/Button';\r\nimport { IconButton, Snackbar } from '@mui/material';\r\nimport Loader from '../component/loader';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport cookieServiceInstance from '../services/cookies';\r\nimport library from '../helpers/library';\r\nimport { useHistory } from 'react-router-dom';\r\nimport routes from '../helpers/routes';\r\n\r\nconst ProfilEdition: FunctionComponent = () => {\r\n\r\n    const [isAccountMaj, setSnackMaj] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    const connectedValue = (data: string): string => {\r\n        const account: Account = JSON.parse(cookieServiceInstance.getCookie(library.account)!);\r\n        switch (data) {\r\n            case library.username: return account.username;\r\n            case library.email: return account.email;\r\n            default : return '';\r\n        }\r\n    }\r\n\r\n    const [profilEditionForm, setProfilEditionForm] = useState({   \r\n        username: connectedValue(library.account),\r\n        password: '',\r\n        email: connectedValue(library.email)\r\n    });\r\n\r\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setProfilEditionForm({\r\n            ...profilEditionForm,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            let account: Account = JSON.parse(cookieServiceInstance.getCookie(library.account)!);\r\n            account.edition(profilEditionForm.username, profilEditionForm.password, profilEditionForm.email);\r\n            account = await ApiAccess.editAccount(account);\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            history.push(routes.home);\r\n        }\r\n    };\r\n\r\n    const closeSnack = () => {\r\n        setSnackMaj(false);\r\n    }\r\n\r\n    const action = (\r\n        <IconButton\r\n            size=\"small\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            onClick={closeSnack}\r\n        >\r\n            <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n    );\r\n\r\n    return (\r\n        <Grid container justifyContent=\"center\" alignItems=\"top\" marginTop={3} style={{ minHeight: '100vh' }}>\r\n            <Grid item xs={10} sm={6} md={4}>\r\n                <Paper elevation={3} style={{ padding: '20px' }}>\r\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n                        Mise a jour du profil\r\n                    </Typography>\r\n                    <Snackbar\r\n                        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n                        open={isAccountMaj}\r\n                        autoHideDuration={3000}\r\n                        onClose={closeSnack}\r\n                        message=\"Compte mis a jour\"\r\n                        action={action}\r\n                    />\r\n                    {loading ? (\r\n                        <Loader />\r\n                    ) : (\r\n                        <form onSubmit={handleSubmit}>\r\n                            <TextField\r\n                                label=\"Username\"\r\n                                name=\"username\"\r\n                                value={profilEditionForm.username}\r\n                                onChange={handleChange}\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                            />\r\n                            <TextField\r\n                                label=\"Password\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                value={profilEditionForm.password}\r\n                                onChange={handleChange}\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                            />\r\n                            <TextField\r\n                                label=\"Email\"\r\n                                name=\"email\"\r\n                                type=\"text\"\r\n                                value={profilEditionForm.email}\r\n                                onChange={handleChange}\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                variant=\"standard\"\r\n                            />\r\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n                                Editer\r\n                            </Button>\r\n                        </form>\r\n                    )}\r\n                </Paper>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default ProfilEdition;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}